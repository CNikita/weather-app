import{o as d,b as u,d as e,t as o,f,g as M,c as N,h as $,i as B,w as C,e as F,j as p,F as T,r as V,k as D,l as j,m as k,n as E}from"./index-63ca37ca.js";import{_ as O}from"./FavoriteBtn-d96ce165.js";import"./_plugin-vue_export-helper-c27b6911.js";const v=i=>{var t=Math.round(i),c=(t>=0?"+":"")+t+"℃";return c},S=i=>{const t=new Date(i*1e3),c=t.getDay(),a=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],l=t.getDate(),_=t.getMonth();let n=t.getHours();n<10&&(n="0"+n);let s=t.getMinutes();s<10&&(s="0"+s);const r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return`${a[c]} ${l} ${r[_]} ${n}:${s}`},W={class:"flex gap-5 justify-between pb-1"},q={class:"w-36"},A={class:"w-60 text-center"},H={class:"w-20 text-center"},I={class:"w-20 text-center"},L={__name:"DailyForecastElement",props:{forecast:{type:Object,required:!0}},setup(i){const t=i;return(c,a)=>(d(),u("div",W,[e("div",q,o(f(S)(t.forecast.dt)),1),e("div",A,o(t.forecast.weather[0].description),1),e("div",H,o(f(v)(t.forecast.main.temp)),1),e("div",I,o(Math.round(t.forecast.wind.speed))+" м/с",1)]))}};const R={key:0,class:"flex flex-col items-center px-6"},Y={class:"flex gap-2"},z={class:"pb-2 text-2xl font-bold"},G={class:"flex flex-col items-center"},J={class:"pt-2 text-5xl"},K={class:"pt-2"},P={class:"pt-2 font-bold"},Q={class:"flex gap-4 pt-2"},U={class:"flex flex-col items-center"},X=e("span",null,"Ветер",-1),Z={class:"flex flex-col items-center"},ee=e("span",null,"Давление",-1),te={class:"flex flex-col items-center"},se=e("span",null,"Влажность",-1),ae={key:0,class:"pt-5 pb-2"},oe=j('<h3 class="font-bold text-center text-slate-300">Прогноз на ближайшие 5 дней</h3><div class="flex gap-5 justify-between pt-1 mb-2"><div class="w-36 text-center font-bold">Дата</div><div class="w-60 text-center font-bold">Общие условия</div><div class="w-20 text-center font-bold">Температура</div><div class="w-20 text-center font-bold">Ветер</div></div>',2),ce={class:"forecast-items"},le={__name:"CityView",setup(i){const t=M(),c=N(()=>t.params.CITY_NAME),a=$({}),l=$({}),_=s=>{k.getWeatherByCityName(s).then(({data:r})=>{a.value=r})},n=s=>{k.getForecastByCityName(s).then(({data:r})=>{l.value=r})};return B(()=>{_(c.value),n(c.value)}),C(c,s=>{s&&(_(s),n(s))}),(s,r)=>{var m,h,x,y,w,b;return a.value.name?(d(),u("div",R,[e("div",Y,[e("h2",z,o(a.value.name),1),F(O,{"city-name":c.value},null,8,["city-name"])]),e("div",G,[e("div",J,o(f(v)((m=a.value.main)==null?void 0:m.temp)),1),e("div",K,"По ощущению "+o(f(v)((h=a.value.main)==null?void 0:h.feels_like)),1),e("div",P,o((x=a.value.weather)==null?void 0:x[0].description),1),e("div",Q,[e("div",U,[X,p(" "+o(Math.round((y=a.value.wind)==null?void 0:y.speed))+" м/с ",1)]),e("div",Z,[ee,p(" "+o(Math.round(((w=a.value.main)==null?void 0:w.pressure)*.75))+" мм рт. ст. ",1)]),e("div",te,[se,p(" "+o((b=a.value.main)==null?void 0:b.humidity)+"% ",1)])])]),l.value.city?(d(),u("div",ae,[oe,e("div",ce,[(d(!0),u(T,null,V(l.value.list,g=>(d(),E(L,{key:g.dt,forecast:g},null,8,["forecast"]))),128))])])):D("",!0)])):D("",!0)}}};export{le as default};
